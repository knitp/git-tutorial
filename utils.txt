utility function of version2